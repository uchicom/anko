<!DOCTYPE html>
<html lang="ja">
<head>
<link rel="stylesheet" href="/css/anko.css" type="text/css">
<link rel="stylesheet" href="/css/base.css" type="text/css">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta http-equiv="content-script-type" content="text/javascript">
<meta http-equiv="content-style-type" content="text/css">
<meta name="author" content="uchicom">
<meta name="keywords" content="問題">
<meta name="description" content="問題サービスです">
<script src="/js/anko.js"></script>
<script src="/js/anko-validator.js"></script>
<script src="/tracker/js/common.js"></script>
<script src="/tracker/js/main.js"></script>
<script src="/tracker/js/validation.js"></script>
<script>
  window.addEventListener("load", dispLogin);
</script>
<style>img {width:40px;height:25px;margin-right:10px}</style>
<title>会員システム - トラッカーサービス</title>
</head>
<body>
<header>
  <div id="companyNameHeader">
  <span class="logoChar">ankoサンプル</span>
  </div>
<ul class="anko-horizon">
  <li><a href="/">ホーム</a></li>
  <li><a href="/service.htm"> トラッカーサービス</a></li>
</ul>
</header>
<article style="clear:left;" id="article"></article>
<div id="footer">
  <footer>
    <div>
      <a href="https://github.com/uchicom" style="text-decoration: none;">uchicom &copy; 2023</a>
    </div>
  </footer>
</div>
</body>
</html>

<template id="loginTemplate">
  <div id="article" style="clear:both;">
    <article id="content">
      <h2>ログイン</h2>
      <form onsubmit="event.preventDefault()" id="login">
        <table style="margin: auto">
          <tr><th><label for="id">ログインID</label></th><td><input class="anko-input" type="text" id="id" name="id"></td></tr>
          <tr><th><label for="pass">パスワード</label></th><td><input class="anko-input" type="password" id="pass" name="pass"></td></tr>
          <tr><td colspan="2" style="text-align: right"><button class="anko-button primary" onclick="login()">ログイン</button></td></tr>
        </table>
      </form>
    </article>
  </div>
</template>
<template id="topTemplate">
  <article style="clear:left;" id="article">
    <ul id="menu" class="anko-horizon">
      <li><a onclick="display('/tracker/user/issue/list')">問題一覧</a>
      <li><a onclick="display('/tracker/user/issue/register')">問題登録</a>
      <li><a onclick="display('/tracker/user/issue/update')">問題編集</a>
      <li><a onclick="logout()">ログアウト</a>
    </ul>
    <div style="float:left" id="content">
    </div>
  </article>
</template>
<template id="accountRegisterTemplate">
  <div id="article" style="clear:left;" >
    <article id="content">
    <h2>アカウント登録</h2>
    <form onsubmit="event.preventDefault()" id="accountRegister">
    <table class="guide-list" style="margin-right:auto;margin-left:auto">
    <tr><th><label for="id">ログインID</label></th><td><input class="anko-input" type="text" id="id" name="id" ></td></tr>
    <tr><th><label for="pass">パスワード</label></th><td><input class="anko-input" type="password" id="pass" name="pass" ></td></tr>
    <tr><th><label for="name">お名前</label></th><td><input class="anko-input" type="text" id="name" name="name" ></td></tr>
    </table>
    <button class="anko-button primary" style="float:right" id="signupbutton" onclick="this.disabled=true;post('/account/register', 'form#accountRegister', ()=>location.href='/tracker/user/', (() => this.disabled = false).bind(this))">登録</button>
    </form>
    </article></div>
</template>
<template id="mypageTemplate">
  <div style="float:left" id="content"><h3>マイページ</h3>
    <p>ログインに成功しました。</p>
  </div>
</template>
<template id="issueTemplate">
  <div id="content">
    <h3>問題一覧</h3>
    <span id="number"></span>
    <div style="height: calc(100vh - 230px); width:100%; overflow-x: auto;">
      <table class="guide-table">
        <thead>
          <tr>
            <th>問題ID</th>
            <th>件名</th>
            <th>詳細</th>
          </tr>
        </thead>
        <tbody>
        </tbody>
        <template id="issueTemplate.row">
          <tr>
            <td><a></a></td>
            <td><a></a></td>
            <td><pre></pre></td>
          </tr>
        </template>
      </table>
    </div>
  </div>
</template>
<template id="issueRegisterTemplate">
  <div style="float:left" id="content"><h3>問題登録</h3>
    <form onsubmit="event.preventDefault()" id="issueRegister">
    <table class="guide-list">
      <tr><th><label for="subject">件名</label></th><td><input class="anko-input" type="text" id="subject" name="subject"></td></tr>
      <tr><th><label for="detail">詳細</label></th><td><textarea class="anko-textarea" id="detail" name="detail"></textarea></td></tr>
    </table>
    <button class="anko-button primary" style="float: right" id="signupbutton" onclick="post('/issue/register', 'form#issueRegister', () => display('/tracker/user/issue/list'))">登録</button>
    </form>
  </div>
</template>
<template id="issueUpdateTemplate">
  <div id="content">
    <h3>問題更新</h3>
    <span id="number"></span>
    <form onsubmit="event.preventDefault()" id="issueUpdate">
      <div style="height: calc(100vh - 300px); width:100%; overflow-x: auto;">
        <table class="guide-table">
          <thead>
            <tr>
              <th>問題ID</th>
              <th><label for="subject">件名</label></th>
              <th><label for="detail">詳細</label></th>
            </tr>
          </thead>
          <tbody>
          </tbody>
          <template id="issueUpdateTemplate.row">
            <tr>
              <td><input type="hidden" name="issueId"></td>
              <td><input class="anko-input" type="text" name="subject"></td>
              <td><textarea class="anko-textarea" name="detail"></textarea></td>
            </tr>
          </template>
        </table>
      </div>
      <button class="anko-button primary" style="float:right" id="signupbutton" onclick="this.disabled=true;post('/issue/update', 'form#issueUpdate', () => dispIssueUpdate(), (() => this.disabled = false).bind(this), '保存しますか？', true)" disabled>保存</button>
    </form>
  </div>
</template>
<template id="issueViewTemplate">
  <div style="float:left" id="content"><h3>問題表示</h3>
    <table class="guide-list">
      <tr><th>問題ID</th><td></td></tr>
      <tr><th>件名</th><td></td></tr>
      <tr><th>詳細</th><td></td></tr>
    </table>
  </div>
</template>
